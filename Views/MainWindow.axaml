<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:kanban_project.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
		xmlns:controls="clr-namespace:kanban_project.Controls"
        x:Class="kanban_project.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico" Title="Kanban Board" Padding="40">

	<Design.DataContext>
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<DockPanel>
		<!--<Grid DockPanel.Dock="Top">

		</Grid>-->
		<StackPanel Spacing="28">
			<StackPanel Spacing="6">
				<TextBlock Text="{Binding SelectedBoard.Name}" FontSize="24" FontWeight="Bold"/>
				<TextBlock Text="{Binding SelectedBoard.Description}" FontSize="12"/>
			</StackPanel>	
			<!--Контейнер со столбцами-->
			<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
				<StackPanel Spacing="5" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top">
					<!--IsVisible чтобы не было бага с отображением контрола предметов и лишнего отступа-->
					<ItemsControl Items="{Binding SelectedBoard.Columns}" IsVisible="{Binding SelectedBoard.Columns.Count}">
						<ItemsControl.ItemsPanel>
							<ItemsPanelTemplate>
								<StackPanel Orientation="Horizontal" Spacing="10" />
							</ItemsPanelTemplate>
						</ItemsControl.ItemsPanel>
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<controls:ColumnUserControl DataContext="{Binding}"/>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
					<Button Content="Добавить столбец" VerticalAlignment="Top"
									IsVisible="{Binding SelectedBoard, Converter={x:Static ObjectConverters.IsNotNull}}" Margin="5">
						<Button.Flyout>
							<Flyout>
								<TextBox Watermark="Введите имя столбца" Name="AddColumnTextBox"/>
							</Flyout>
						</Button.Flyout>
					</Button>
				</StackPanel>
			</ScrollViewer>
		</StackPanel>
	</DockPanel>
</Window>
